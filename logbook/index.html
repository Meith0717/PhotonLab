<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Raytracer Project Logbook</title>
    <style>
        :root {
            --bg-color: #f4f6f8;
            --card-bg: #ffffff;
            --accent-color: #0078d4;
            --text-color: #222;
            --border-color: #e0e0e0;
            --caption-color: #666;
            --code-bg: #f8f9fa;
        }

        body {
            font-family: "Inter", Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            scroll-behavior: smooth;
        }

        header {
            background-color: var(--card-bg);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 20px 40px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        header h1 {
            margin: 0;
            font-weight: 700;
            font-size: 1.8em;
            color: var(--accent-color);
        }

        .container {
            display: flex;
            max-width: 1300px;
            margin: 40px auto;
            gap: 30px;
            padding: 0 20px;
        }

        /* --- Sidebar / TOC --- */
        nav {
            flex: 0 0 220px;
            position: sticky;
            top: 100px;
            align-self: flex-start;
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            height: fit-content;
        }

        nav h3 {
            font-size: 1em;
            margin-top: 0;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 8px;
        }

        nav ul {
            list-style: none;
            padding-left: 0;
            margin: 15px 0 0;
        }

        nav li {
            margin-bottom: 10px;
        }

        nav a {
            text-decoration: none;
            color: var(--text-color);
            padding: 6px 8px;
            border-radius: 6px;
            display: block;
            transition: background 0.2s, color 0.2s;
        }

        nav a:hover {
            background-color: var(--accent-color);
            color: #fff;
        }

        /* --- Main Content --- */
        main {
            flex: 1;
        }

        .week-box {
            background: var(--card-bg);
            padding: 30px 35px;
            margin-bottom: 40px;
            border-radius: 14px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
            border-left: 6px solid var(--accent-color);
            transition: transform 0.2s;
        }

        .week-box:hover {
            transform: translateY(-4px);
        }

        .week-box h2 {
            margin-top: 0;
            color: var(--accent-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 8px;
            font-size: 1.4em;
        }

        .progress-item {
            margin-top: 25px;
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            gap: 25px;
        }

        .image-block {
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 33%;
            flex-shrink: 0;
        }

        .image-block img {
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .image-block img:hover {
            transform: scale(1.02);
        }

        .caption {
            font-size: 0.85em;
            color: var(--caption-color);
            margin-top: 8px;
            text-align: center;
            font-style: italic;
            line-height: 1.3;
        }

        .progress-text {
            flex: 1;
        }

        .progress-text ul {
            margin-top: 5px;
            margin-bottom: 10px;
            padding-left: 20px;
        }

        /* --- Formula / Code styling --- */
        .formula-block {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 15px 20px;
            margin-top: 20px;
            font-family: "Consolas", "Courier New", monospace;
            font-size: 0.95em;
            overflow-x: auto;
        }

        .math {
            font-family: "Cambria Math", "Times New Roman", serif;
            background: #fff;
            padding: 12px 15px;
            border-left: 4px solid var(--accent-color);
            border-radius: 8px;
            margin-top: 15px;
            font-size: 1em;
            color: #333;
        }

        @media (max-width: 900px) {
            .container {
                flex-direction: column;
            }
            nav {
                position: relative;
                top: auto;
                width: 100%;
                order: -1;
            }
            .progress-item {
                flex-direction: column;
            }
            .image-block {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Raytracer Project Logbook</h1>
    </header>

    <div class="container">
        <nav>
            <h3>Table of Contents</h3>
            <ul>
                <li><a href="#week1">Week 1</a></li>
            </ul>
        </nav>

        <main>
            <section class="week-box" id="week1">
                <h2>Week 1</h2>

                <div class="progress-item">
                    <div class="progress-text">
                        <p>Created an interactive MonoGame environment with a movable camera to fly around and capture raytraced images. The scene is rasterized for display.</p>
                    </div>
                </div>

                <div class="progress-item">
                    <div class="image-block">
                        <img src="images/2025-10-26_23-18-16.png" alt="B&W Triangle Render">
                        <div class="caption">Black-and-white triangle render using Barycentric coordinates</div>
                    </div>
                    <div class="progress-text">
                        <p>Implemented the first step suggested by the professor: placing a single triangle face and raycasting it.</p>
                        <ul>
                            <li>Produced a black-and-white render: white for intersections, black for no intersection.</li>
                            <li>Intersection tests were done using <strong>Barycentric coordinates</strong>, which are also used to determine the color inside the triangle.</li>
                        </ul>
                    </div>
                </div>

                <div class="progress-item">
                    <div class="image-block">
                        <img src="images/2025-10-26_23-19-43.png" alt="Color Triangle Render">
                        <div class="caption">Colored triangle render using Barycentric coordinates</div>
                    </div>
                    <div class="progress-text">
                        <p>Extended the renderer to support full color rendering using the same Barycentric coordinates.</p>

                        <div class="math">
                            Intersection point <em>P</em> is computed using Barycentric coordinates:<br>
                            <br>
                            <strong>P</strong> = b₀·<strong>v₀</strong> + b₁·<strong>v₁</strong> + b₂·<strong>v₂</strong><br>
                            with b₀ + b₁ + b₂ = 1 and bᵢ ≥ 0
                        </div>

                        <div class="math">
                            Color interpolation is calculated as:<br>
                            <br>
                            <strong>C</strong> = b₀·<strong>C₀</strong> + b₁·<strong>C₁</strong> + b₂·<strong>C₂</strong>
                        </div>

                        <div class="formula-block">
<pre><code>public static bool IntersectsFace(this Ray ray, (Vector3, Vector3, Vector3) face, out float b0, out float b1, out float b2, out float t)
{
    var (p0, p1, p2) = face;
    var e1 = p1 - p0;
    var e2 = p2 - p0;
    var s  = ray.Position - p0;

    b0 = b1 = b2 = t = 0;
    var dCrossE2 = Vector3.Cross(ray.Direction, e2);
    var sCrossE1 = Vector3.Cross(s, e1);

    var denom = Vector3.Dot(dCrossE2, e1);
    if (Math.Abs(denom) < 1e-5f)
        return false;

    var invDenom = 1.0f / denom;
    t  = Vector3.Dot(sCrossE1, e2) * invDenom;
    b1 = Vector3.Dot(dCrossE2, s)  * invDenom;
    b2 = Vector3.Dot(sCrossE1, ray.Direction) * invDenom;
    b0 = 1 - b1 - b2;

    return t > 0 && b1 >= 0 && b2 >= 0 && (b1 + b2) <= 1;
}

color = b0 * v0.Color + b1 * v1.Color + b2 * v2.Color;
</code></pre>
                        </div>
                    </div>
                </div>

                <div class="progress-item">
                    <div class="image-block">
                        <img src="images/2025-10-26_23-21-19.png" alt="Tetrahedron Raytracing">
                        <div class="caption">Raytraced tetrahedron with closest intersection detection</div>
                    </div>
                    <div class="progress-text">
                        <p>Started raytracing simple objects like a tetrahedron.</p>
                        <ul>
                            <li>Used the <strong>t-component</strong> to determine the closest intersection point.</li>
                        </ul>
                    </div>
                </div>

                <div class="progress-item">
                    <div class="image-block">
                        <img src="images/2025-10-27_23-43-01.png" alt="Lighting and Shadows">
                        <div class="caption">Scene with dynamic lighting and shadow ray tracing</div>
                    </div>
                    <div class="progress-text">
                        <p>Added <strong>light sources</strong> and implemented <strong>shadow rays</strong> for realistic illumination.</p>
                        <ul>
                            <li>Objects now cast accurate shadows based on their position relative to the light.</li>
                            <li>Integrated simple Lambertian shading for diffuse reflection.</li>
                            <li>Improved visual depth and realism compared to previous renders.</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
    </div>
</body>
</html>
